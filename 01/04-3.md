### ✍️ Tangxt ⏳ 2021-06-10 🏷️ functional programming

# 04-3-闭包概念、闭包案例

## ★概述

闭包是 JavaScript 中的一个重要概念。这是一个被广泛讨论的概念 -> 让人感到困惑的概念

Douglas Crockford 给这个概念的定义：

> Closure means that an inner function always has access to the vars and parameters of its outer function, even after the outer function has returned.

闭包意味着，即使在外部函数返回之后，内部函数仍然可以访问其外部函数的变量和参数（外部函数的`arguments`对象不能访问） -> 嵌套函数

``` js
function OuterFunction() {
  var outerVariable = 100;

  function InnerFunction() {
    alert(outerVariable);
  }

  return InnerFunction;
}
var innerFunc = OuterFunction();

innerFunc(); // 100
```

闭包的形式化理解：

![box](assets/img/2021-06-10-14-59-32.png)

> a closure is kind of a box with some contents in it

你有一只猫，你把它和一堆球一起放在一个盒子里边，然后把这个盒子封起来。所以，现在盒子的作用就像一个封闭物（closure）——把猫和球封闭起来。猫仍然可以接触到这些球，当然，它可以随时接触到这些球。

而在 JS 里边，闭包可不是猫和球，而是包含一个函数以及函数声明时作用域中的所有变量 -> `cat`代替了函数，而`balls`代替了作用域中的所有的变量

![闭包 1](assets/img/2021-06-10-15-13-09.png)

![闭包 2](assets/img/2021-06-10-15-09-27.png)

➹：[JavaScript Closures - Web Code Geeks - 2021](https://www.webcodegeeks.com/javascript/javascript-closures/)

➹：[Closure in JavaScript](https://www.tutorialsteacher.com/javascript/closure-in-javascript)

## ★闭包概念

