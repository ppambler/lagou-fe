### ✍️ Tangxt ⏳ 2021-06-03 🏷️ functional programming

# 04-2-高阶函数（函数作为参数）、高阶函数（函数作为返回值）、高阶函数的意义、常用的高阶函数

## ★一些简单的认识

- `arr.forEach(()=>{})` -> 面向对象+函数式混合来搞，它们都有各自适合的场景，而且混合起来使用也不是不可以的！
- `forEach` -> 这个方法给我的感觉是，遍历一个数组里边所有的元素，每次我们只拿一个元素交给`callback`去处理，而不是多个元素 -> 其实为了符合数学中函数的定义，我们把`arguments`当作是一个输入，而不是多个输入然后输出一个值

## ★高阶函数（函数作为参数）

回顾 JS 中关于 FP 的第二个概念：高阶函数

讲什么？

1. 介绍一下什么是高阶函数
2. 介绍一下使用它的意义

1）介绍一下什么是高阶函数以及它的语法

高阶函数的英文名叫做「Higher-Order Function」

如果你学过 React，你就会知道 React 中的高阶组件叫做「[Higher-Order Component](https://reactjs.org/docs/higher-order-components.html)」

它们的名字很像，其实 React 提供的高阶组件本质上就是高阶函数

回过头来，高阶函数的定义非常简单：

- 可以把函数作为参数传递给另一个函数 -> 这个函数参数被称为「Callback function」
- 可以把函数作为另一个函数的返回结果 -> 这是函数是一等公民的特性

只要满足其中之一，那么这「另一个函数」就是一个高阶函数

语法示例：

``` js
// Pass a function as an Argument
function sayHello() {
   return "Hello, ";
}
function greeting(helloMessage, name) {
  console.log(helloMessage() + name);
}
// Pass `sayHello` as an argument to `greeting` function
greeting(sayHello, "JavaScript!");

// Return a function
function sayHello1() {
   return function() {
      console.log("Hello!");
   }
}
```

`greeting`和`sayHello1`都是高阶函数

2）函数作为参数的示例

在函数式编程的学习过程中，我们会写很多的函数，我们需要测试这些功能函数的运行结果，但是我们并不需要操作 DOM，所以我们使用 node 的环境来进行测试，总之，我们并不需要创建一个页面来去测试，毕竟用 node 来测试要更方便一些！

数组中其实有很多方法，而它们的参数就是一个函数，比如`forEach`、`filter`、`map`、`sort`等等

接下来通过模拟数组的`forEach`和`filter`来演示函数作为参数

1、forEach

`forEach`的功能是遍历数组当中的每一个元素，然后对每一个元素来进行相应的处理

模拟这个`forEach`函数：

1. 要接受几个参数
2. 每个参数分别是什么

我们要遍历数组，所以它会有一个数组参数，由于我们遍历这个数组，所以我们需要对数组的每一项做处理，但是每次调用`forEach`的时候，我们处理的方式是不同的，如：

1. 有可能要打印数组中的每一项
2. 也有可能把数组中的每一项赋给页面上指定的元素

所以我们还需要**传一个变化的内容** -> 所以它就是一个函数类型的值

因此，这个`forEach`有两个参数：

- `array`
- `fn`

``` js
function forEach (array, fn) {
  // 遍历数组，用函数处理数组中的每一个元素
  for (let i = 0; i < array.length; i++) {
    fn(array[i])
  }
}

// 测试
let arr = [1, 3, 4, 7, 8]

// 遍历数组 -> 打印数组中的每一个元素
forEach(arr, function (item) {
  console.log(item)
})

// 1
// 3
// 4
// 7
// 8
```

如果我们没有封装这个`forEach`，那么我们要完成这么一个需求就得这样来：

``` js
let 
```





















