那接下来我们再来看一下我们项目当中模板文件的编译模板文件也就是 htmlr 文件。在这些 ATM 文件当中，我们为了可以去让页面当中重用的一些地方被抽象出来。我们使用了模板引擎，那这儿使用的模板引擎叫做 flag 我们可以单独去安装一下 swag 的这个转换插件通过一样 at 一下 gulp 杠 swag swig。 Do. 那有了这个插件过后，我们就可以在我们的代码当中去载入这个插件。
Fw IG swag. 完了过后，我们去创建一个页面，编译的任务叫做 page 那这个里面同样通过 RE 探的方式去 return `src` 找到的这个文件的读取流 `src` 目录下新点 HTML 那这里需要注意一个小点，如果说你的 HTML 结构说在 HTML 不是只是在这个 `src` 目录下，你有可能有一些子文件夹里面也有 HTML 的话，那你可能需要使用新两个新号。然后在下面的这个 atemar 那这样的话就代表我们 `src` 下面任意子目录下的 htmlr 文件。那这是一种子目录的通配方式，我们这只是要求必须把所有的 htmlr 全部放在 `src` 这个根目录下。因为你在这个其他目录下的文件有可能是一些部分文件或者是布局页。所以说我们为了不干扰我们，就要求所有的 ATM 都放在根目录下面。
那这样同样我们也可以去给它设置一下 base 其实这里的 base 设置就没有意义了，因为我们这个通配符所在的位置就是我们的 `src` 目录。但是这 2 为了保证统一，我们就都设置一下，base 完了过后我们点 ``pipe`` 那这个时候我们就直接 ``pipe`` 到 swag 这一个模板引擎的转换插件当中，然后最后再去 ``pipe`` 到 dist 所创建的生成流当中来保存一下。我们此时同样把这个私有的任务给它导出一下，我们回到命令行当中去使用一下这个任务。 12 gulp page 回车。那此时这个任务转换完成过后，我们三个 HTML 文件就会分别被转换到我们的目标目录。而且这个里面我们之前的模板页和不分页它都已经正常工作了。但是有一个小点，就是我们在这个里面原来的这个模板他还用到了一些数据标记。
这些数据标记实际上就是把我们在网页开发过程当中那些有可能会发生变化的地方，或者比如说网站的名字或者是网站当中的一些数据信息，我们把它提取成了一些数据。那这些数据我们需要在模板引擎工作的时候，通过选项去指定。那这儿我先把这个数据给它拷贝过来，我提前准备好了一个数据，我把它拷贝过来，我们粘贴在一开始的位置。那这个里面的结构也非常简单，就三个属性，一个是 menu 词，一个是 PKG 一个是 data 你可以放任意的数据在里面，你放的数据都可以在我们的模板当中去使用。那这也就根据你在开学开发这个 ATM 页面的时候的一个需要去决定了。
那我们这儿有了这个 data 过后，我们就可以通过 switch 的 data 参数去传递进去。对他漫画 data 的这种形式我们可以再简写成 data 的这种形式。好，我们再去运行一下这个配接任务。那此时我们再去看我们转化完的这个结果，你会发现我们的页面的名字还有一些其他的信息就会自动的呈现到我们最终生成的这个 atmr 当中。那这样的话它就把我们在网页当中经常写死的一些数据提取出来，我们可以在代码当中去配置。当然你还可以去单独写一个 JS 文件，通过代码把这个 JS 文件载入来，然后这种方式去配置网页当中的一些数据可能会更合理一些。
我们这儿只是用一个对象去模拟了，效果是一样的，那这是我们的页面的转换任务。那有了这三个任务过后，我们 `src` 下面主体需要去转换，或者说我们叫编译的这一些事情都已经完成了。然后接下来我们就去创建一个组合任务，把他们三者全部组合在一块组合在一块。因为这三个任务他们可以一旦要去运行的话，我们不可能单独去运行，某一个一般都是同时去运行。所以说我们单独去创建一个叫 compile 的人物，叫做编译的任务。那这个任务它是组合任务，我们可以借助于 gab 提供的 series 和 parallel 两个 API 去创建。然后我们这儿具体使用 series 还是 parallan 呢？那很简单，因为你这三个任务他们相互之间没有任何的牵连。所以说我们可以让这三个任务同时开始执行，这样的话可以提高我们构建的效率。所以我们这应该使用的是 parallel 。那有了这个 parallel 过后，我们就可以在这个创建 compare 的时候，去把我们的三个任务都给它传入进去。
Style script. 配置保存一下。那此时我们就不需要去导出这三个任务了，我们只需要去导出一个 compile 的任务。那这个 compare 的任务，我们去尝试执行一下。只不过在执行之前，我们先把 diss 的目录删除掉。对这样。好，那这个时候我们再去运行一下 compile gap film pileok 那此时第一次目录服务，下面我们的 HTML 文件，我们的样式文件，还有我们的脚本文件都有正常的一个工作。那这样话我们这个编译的任务就算是有一个小结了，然后往后肯定还有一些其他的特性需要拿进来，我们再接着去看。
