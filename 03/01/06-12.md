### âœï¸ Tangxt â³ 2021-09-10 ğŸ·ï¸ Vue

# 06-12-è§’è‰²ç®¡ç†

## â˜…è§’è‰²ç®¡ç†

### <mark>1ï¼‰æ·»åŠ è§’è‰²ã€ç¼–è¾‘è§’è‰²</mark>

ğŸ’¡ï¼šå…³äº`Dialog`ç»„ä»¶ï¼Ÿ

å…¶å†…å®¹å¯ä»¥åµŒå¥—ä¸€ä¸ªç»„ä»¶ï¼Œå¦‚æœä½ å¯¹è¯¥ç»„ä»¶ä¸åŠ `v-if`çš„è¯ï¼Œé‚£ä¹ˆå½“ä½ å…³æ‰`Dialog`åï¼Œå†æ‰“å¼€ä¸€ä¸ª`Dialog`ï¼Œä½ ä¼šå‘ç°è¯¥åµŒå¥—çš„ç»„ä»¶å¹¶æ²¡æœ‰é”€æ¯ï¼è¿™æ„å‘³ç€`created`æ°¸è¿œåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åŠ ä¸Š`v-if`ï¼Œä»¥æ­¤æ¥ç¡®ä¿æ¯æ¬¡æ‰“å¼€`Dialog`éƒ½ä¼šé‡æ–°åˆ›å»ºè¿™åµŒå¥—çš„å­ç»„ä»¶ï¼

ğŸ’¡ï¼šä¿å­˜å’Œæ›´æ–°è§’è‰²çš„æ“ä½œï¼Ÿ

- æäº¤çš„æ—¶å€™ï¼Œåªæä¾›`codeã€nameã€description`å°±æ˜¯ä¿å­˜æ“ä½œ -> æ²¡æœ‰`id`ï¼Œåå°å°±ä¼šæŠŠè¿™æ¬¡è¯·æ±‚è§†ä¸ºæ·»åŠ æ“ä½œï¼
- æäº¤çš„æ—¶å€™ï¼Œè¿˜æœ‰`id`ï¼Œé‚£å°±æ˜¯æ›´æ–°æ“ä½œ

ğŸ’¡ï¼šå…³äº`Dialog`çš„ä½¿ç”¨ï¼Ÿ

ä¹‹å‰çš„åšæ³•æ˜¯è‡ªå·±æƒ³çš„ï¼Œå†åŠ ä¸Šä¸€ç‚¹ç½‘ä¸Šçš„å‚è€ƒï¼Œç°åœ¨å¯¹æ¯”è€å¸ˆè®²çš„ï¼Œè€å¸ˆçš„åšæ³•æ˜¾ç„¶æ›´ç®€æ´ä¸€ç‚¹ -> å”¯æœ‰æ¯”è¾ƒï¼Œæ‰èƒ½çœ‹å‡ºè‡ªå·±çš„é—®é¢˜ï¼

æ¯”å¦‚ï¼š`Dialog`æ ‡é¢˜çš„å¤„ç†ï¼Œæˆ‘çš„åšæ³•æ˜¯ç”¨`props`ä¼ `title`åï¼Œè€å¸ˆç›´æ¥ç”¨äº†ä¸€ä¸ª`isEidt`ï¼Œå»æ§åˆ¶`title`çš„å€¼ï¼Œè¿™æ ·å°±ä¸ç”¨å¤šå†™ä¸€ä¸ª`props`äº† -> è¿™ä¸ª`isEdit`åŸå…ˆçš„ç›®çš„æ˜¯æ§åˆ¶è¿™ä¸ª`Dialog`åˆ°åº•æ˜¯ä¸€ä¸ªæ·»åŠ æ“ä½œè¿˜æ˜¯ç¼–è¾‘æ“ä½œï¼

### <mark>2ï¼‰åˆ†é…èœå•</mark>

ğŸ’¡ï¼šé‡åˆ°åŠ¨æ€è·¯ç”±è·¯å¾„å‚æ•°ï¼Œè®©å¯¹åº”çš„è·¯ç”±ç»„ä»¶è§£è€¦ï¼Ÿ

ä¹Ÿå°±æ˜¯è¯´è·¯ç”±ç»„ä»¶å¯ä»¥ä½œä¸ºæ™®é€šç»„ä»¶æ¥ä½¿ç”¨ï¼Œéœ€è¦åœ¨è·¯ç”±é…ç½®é‡Œè¾¹æ·»åŠ ä¸€ä¸ª`props:true`ï¼Œè€Œè·¯ç”±ç»„ä»¶åˆ™æ·»åŠ ä¸€ä¸ª`props`ä¸º`roleId`ï¼Œè¿™ä¸ªå±æ€§ä¸åŠ¨æ€çš„`:roleId`æ˜¯ä¿æŒä¸€è‡´çš„ï¼

ä¸ºå•¥è¦è¿™æ ·åšï¼Ÿ -> è®©è¯¥è·¯ç”±ç»„ä»¶çš„ä½¿ç”¨æ–¹å¼å˜å¾—æ›´çµæ´»ï¼Œä¸ç„¶ï¼Œæˆ‘ä»¬åªèƒ½é€è¿‡`this.$route.params.roleId`æ¥è·å–äº†ï¼

> `alloc-menu`ç»„ä»¶æ˜¯è·¯ç”±ç»„ä»¶`role/:roleId/alloc-menu`ï¼Œå®ƒä¾èµ–åŠ¨æ€çš„è·¯ç”±å‚æ•°`roleId`ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æŠŠè¯¥è·¯ç”±ç»„ä»¶å½“ä½œæ™®é€šç»„ä»¶æ¥ä½¿ç”¨çš„è¯ï¼Œå°±å¾—æŠŠè¯¥è·¯ç”±ç»„ä»¶ä¸è¿™ä¸ª`roleId`æ•°æ®è§£è€¦äº†ï¼

ğŸ’¡ï¼šæ ‘å½¢èœå•çš„èŠ‚ç‚¹å…³ç³»ï¼Ÿ

æ•°ç»„ -> ä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªèŠ‚ç‚¹å¯¹è±¡ï¼ŒèŠ‚ç‚¹å¯¹è±¡æœ‰ä¸ª`children`å±æ€§ï¼Œå®ƒæ˜¯ä¸ªæ•°ç»„ï¼Œå®ƒçš„å…ƒç´ æ˜¯å­èŠ‚ç‚¹ï¼ŒåŒç†ï¼Œå­èŠ‚ç‚¹åˆæœ‰å­å­èŠ‚ç‚¹

![èŠ‚ç‚¹](assets/img/2021-09-10-19-09-12.png)

![tree](assets/img/2021-09-10-19-14-08.png)

è¯·æ±‚å¾—åˆ°çš„ä¹Ÿæ˜¯æ ‘å½¢ç»“æ„çš„æ•°æ®ï¼Œåªæ˜¯èŠ‚ç‚¹åå«`name`ï¼Œå­èŠ‚ç‚¹æ•°ç»„å«`subMenuList`

æ‹¿åˆ°ç”¨æˆ·å‹¾é€‰çš„èŠ‚ç‚¹çš„`id`ï¼Ÿ -> `getCheckedKeys`è¦é…åˆ`node-key`ï¼ˆèŠ‚ç‚¹`id`ï¼‰æ¥ä½¿ç”¨

è¿™ä¸ªè§’è‰²è¦ä¿å­˜åˆ†é…çš„æƒé™ï¼Œé‚£ä¹ˆè¿™æ‰€å¯¹åº”çš„é‚£ä¸ªæ¥å£ï¼Œå°±å¾—æ‹¿åˆ°è¿™äº›è¢«å‹¾é€‰åˆ°çš„èŠ‚ç‚¹çš„`id` -> æ³¨æ„ï¼šèŠ‚ç‚¹çš„å‹¾é€‰ï¼Œåªæœ‰åŒçº§äº’æ–¥ï¼Œä½ å‹¾ä¸Šçº§é‚£ä¹ˆä¸‹çº§ä¸ç”¨å‹¾ï¼Œéƒ½ä¼šè¢«è‡ªåŠ¨å‹¾é€‰æ‰ï¼

![é€‰ä¸­ id](assets/img/2021-09-10-19-42-18.png)

`:default-checked-keys="[5]"`è¿™ä¸ªå±æ€§æ˜¯ä¸`node-key`é…åˆä½¿ç”¨ï¼Œ`[5]`çš„è¿™ä¸ª`5`è¡¨ç¤º`id`ä¸º`5`çš„èŠ‚ç‚¹è¢«é»˜è®¤é€‰ä¸­äº†ï¼å¦‚æœå®ƒæ˜¯ä¸€çº§èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå…¶æ——ä¸‹æ‰€æœ‰çš„å­èŠ‚ç‚¹éƒ½ä¼šè¢«é€‰ä¸­ï¼

![å…¨é€‰ä¸åŠé€‰](assets/img/2021-09-10-19-55-47.png)

ğŸ’¡ï¼šå†™é¡µé¢çš„æ€è·¯ï¼Ÿ

1. ç¡®å®šè·¯ç”±è·³è½¬åˆ°è¯¥ç»„ä»¶
2. å‡†å¤‡å¥½`template`ï¼Œä»¥åŠæµ‹è¯•ç”¨çš„æ•°æ®
3. æ ¹æ®æ¥å£è¯·æ±‚çš„æ•°æ®å¯¹`template`ã€`data`è¿›è¡Œæ”¹é€ 

ğŸ’¡ï¼šå…³äºè¯·æ±‚æ¥å£ï¼Œç”¨çš„æ˜¯æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Ÿ

ç”¨`axios`å‘é€è¯·æ±‚å¯ä»¥åœ¨è·¯å¾„åè¾¹æ‹¼é—®å·`?`ï¼Œä¹Ÿå¯ä»¥ç”¨`params`å±æ€§ï¼Œ`axios`å®ƒä¼šæŠŠ`params`è¿™å¯¹è±¡è½¬åŒ–ä¸º`key=value&key=value`è¿™ç§æ•°æ®æ ¼å¼ï¼Œç„¶åæŠŠè¿™æ•°æ®æ”¾åˆ°`url`çš„åè¾¹ï¼ˆä»¥`?`åˆ†å‰²ï¼‰

![è¯·æ±‚æ¥å£](assets/img/2021-09-10-20-04-21.png)

ğŸ’¡ï¼š`getRoleMenus(this.roleId)`è¿™ä¸ªæ¥å£ï¼Ÿ

æ‹¿åˆ°æ˜¯æ‰€æœ‰èœå•åˆ—è¡¨ï¼Œä½†æ˜¯è¿™äº›èœå•éƒ½æœ‰ä¸€ä¸ª`selected`å±æ€§ï¼Œè¯¥å±æ€§ä¸º`true`æ„å‘³ç€è¯¥è§’è‰²å·²ç»æœ‰è¿™ä¸ªèœå•çš„æƒé™äº†ï¼

ç”¨åˆ°äº†é€’å½’éå†ï¼Œå› ä¸ºæˆ‘ä»¬è¦éå†é€‰ä¸­é‚£äº›`selected`å±æ€§ä¸º`true`çš„èœå•ï¼Œç„¶åè·å–è¿™äº›èœå•çš„`id`ï¼Œè®©å®ƒä»¬åœ¨æ ‘å½¢èœå•é‡Œè¾¹é»˜è®¤è¢«é€‰ä¸­ï¼

Vue çš„`push`å…ƒç´ é—®é¢˜ï¼Œç”±äºåœ°å€ä¸å˜ï¼Œè§†å›¾å¹¶ä¸ä¼šå‘ç”Ÿæ›´æ–°ï¼Œäºæ˜¯å¯¹`checkedKeys`ç”¨äº†é‡æ–°èµ‹å€¼çš„å§¿åŠ¿ï¼

### <mark>3ï¼‰åˆ†é…èµ„æº</mark>

æ€è·¯åŒä¸Š

## â˜…ç”¨æˆ·ç®¡ç†

ç”¨æˆ·ç®¡ç†è¿™ä¸ªæ¨¡å—çš„åŠŸèƒ½æ˜¯ï¼Œç»™ç”¨æˆ·åˆ†é…è§’è‰²ï¼Œä¸åŒçš„è§’è‰²æ„å‘³ç€è¯¥ç”¨æˆ·ç™»å½•è¿›æ¥è¿™ä¸ªç®¡ç†ç³»ç»Ÿä¼šçœ‹åˆ°ä¸åŒçš„ç•Œé¢

> è¿™ä¸ªé¡¹ç›®æ— æ³•æ³¨å†Œç”¨æˆ·å•Šï¼ -> æ¥å£æ–‡æ¡£çš„ã€Œç”¨æˆ·ç™»å½•ã€æ¥å£è¯´åˆ°ã€Œç”¨æˆ·ç™»å½•ï¼Œæœªæ³¨å†Œç”¨æˆ·ä¼šè‡ªåŠ¨æ³¨å†Œå¹¶ç™»å½•ã€ï¼Œç„¶æˆ‘æµ‹è¯•äº†ä¸€ä¸‹ï¼Œè¿™æ˜¯ä¸è¡Œçš„ï¼

è§†é¢‘é‡Œè®²çš„æ˜¯ç»™ç”¨æˆ·åˆ†é…è§’è‰²åŠŸèƒ½ï¼Œè‡³äºé‚£ä¸ªç”¨æˆ·å±•ç¤ºåˆ—è¡¨ä»¥åŠæœç´¢åŠŸèƒ½ï¼Œåªå¥½è‡ªè¡Œå®Œæˆäº†ï¼

ç”¨åˆ°äº†ä¸‹æ‹‰æ¡†çš„å¤šé€‰

åšä»€ä¹ˆï¼Ÿ -> å±•ç¤ºè§’è‰²åˆ—è¡¨ -> åˆ†é…è§’è‰²ï¼Œæäº¤åˆ†é… -> å±•ç¤ºå·²å‹¾é€‰çš„è§’è‰²

ğŸ’¡ï¼šå°ç¦ç”¨æˆ·ï¼Ÿ

è¿™ä¸ªæ¥å£å¤±æ•ˆäº†

![ç¦ç”¨ç”¨æˆ·](assets/img/2021-09-10-21-42-41.png)

## â˜…å†™è§’è‰²ç®¡ç†ä»£ç 

### <mark>1ï¼‰å±•ç¤ºè§’è‰²åˆ—è¡¨ã€å¸¦åˆ†é¡µç»„ä»¶ã€å¸¦æœç´¢åŠŸèƒ½ã€å¯ä»¥å¢åˆ æ”¹è¿™ä¸ªè§’è‰²</mark>

ğŸ’¡ï¼šåœ¨ Vue ä¸­å…¨é‡å¼•å…¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ `Vue.use(Element, {size: 'small'})` è®¾ç½®å…¨å±€ç»„ä»¶çš„é»˜è®¤`size`

![size](assets/img/2021-09-11-08-35-16.png)

ğŸ’¡ï¼šåœ¨ä½¿ç”¨ Postman çš„æ—¶å€™ï¼Œèƒ½ä¸èƒ½è‡ªåŠ¨æ›´æ–°`Authorization`ï¼Ÿ

![è‡ªåŠ¨æ›´æ–°](assets/img/2021-09-11-09-05-21.png)

``` js
pm.sendRequest({
    url: "http://edufront.lagou.com/front/user/login",
    method: 'POST',
    header: {
        'Accept': '*/*',
        'Content-Type': 'application/x-www-form-urlencoded',
    },
    body: {
        mode: 'urlencoded',
        urlencoded: [{
            key: 'phone',
            value: '18201288771'
        }, {
            key: 'password',
            value: '111111'
        }]
    }
}, function(err, res) {
    // æå– Response Body ä¸­çš„ token å€¼ï¼Œå¹¶æ·»åŠ åˆ° Headers ä¸­
    // console.log(res.json().content)
    // console.log(typeof res.json().content)

    const data = res.json().content
    const obj = JSON.parse(data)
    const value = obj.access_token
    // console.log(obj)
    // console.log(value)
    // pm.request.headers.add({ key: 'Token', value: res.json().access_token })
    // pm.collectionVariables.set("Authorization", value);
    // pm.environment.set("Authorization",value);
    pm.request.headers.add({
        key: 'Authorization',
        value
    })
    // console.log(response.json());
});
```

![è‡ªåŠ¨åŒ– token](assets/img/2021-09-11-10-01-34.png)

è‡³æ­¤ï¼Œå†ä¹Ÿä¸ç”¨æ‰‹åŠ¨å»æ›´æ–°å…¨å±€çš„`Authorization`å€¼äº†ï¼

è¿™ä¸ªå‘é€`JSON`æ•°æ®çš„æ¨¡æ¿ï¼š

``` js
pm.sendRequest({
    url: "https://{your url to get token}",
    method: 'POST',
    header: {
        'Accept': 'application/json',
        'Content-Type': 'application/json',
    },
    body: {
        mode: 'raw',
        raw: JSON.stringify({ username: "username", password: "password" })
    }
}, function (err, res) {
    // æå– Response Body ä¸­çš„ token å€¼ï¼Œå¹¶æ·»åŠ åˆ° Headers ä¸­
    pm.request.headers.add({ key: 'Token', value: res.json().access_token })
});
```

å…³äºå˜é‡çš„ä½œç”¨åŸŸï¼š

![å˜é‡ä½œç”¨åŸŸ](assets/img/2021-09-11-10-07-04.png)

æˆ‘ä¹‹å‰æ²¡ç•™æ„è¿™äº›å˜é‡çš„å…³ç³»ï¼š

é›†åˆå˜é‡è®¾ç½®ï¼š

![é›†åˆå˜é‡](assets/img/2021-09-11-10-09-33.png)

å…¨å±€å˜é‡è®¾ç½®ï¼š

![å…¨å±€å˜é‡](assets/img/2021-09-11-10-12-27.png)

æˆ‘ä»¬çš„ä»£ç è®¾ç½®çš„æ˜¯`Local variables`ä¹Ÿå°±æ˜¯ä¸´æ—¶å˜é‡ï¼Œåªé€‚ç”¨äº`A`è¯·æ±‚

â¹ï¼š[Postman å®ç° Token å‚æ•°åŒ– - ä¸‰åˆ†ä¹‹ä¸ƒæ©™](https://umm.js.org/p/c23ff637/)

â¹ï¼š[Using variables - Postman Learning Center](https://learning.postman.com/docs/sending-requests/variables/)

#### <mark>1ã€è§’è‰²åˆ—è¡¨</mark>

æ¥å£æµ‹è¯•ï¼š

![æ¥å£æµ‹è¯•](assets/img/2021-09-11-10-32-19.png)

#### <mark>2ã€åˆ é™¤è§’è‰²</mark>

æ¥å£æµ‹è¯•ï¼š

![æ¥å£æµ‹è¯•](assets/img/2021-09-11-12-32-31.png)

#### <mark>3ã€æ·»åŠ è§’è‰²ã€è·å–è§’è‰²ã€æ›´æ–°è§’è‰²</mark>

æ·»åŠ è§’è‰²æ¥å£æµ‹è¯•ï¼š

![æ·»åŠ è§’è‰²](assets/img/2021-09-11-12-43-02.png)

è·å–è§’è‰²æ¥å£æµ‹è¯•ï¼š

![è·å–è§’è‰²](assets/img/2021-09-11-12-50-23.png)

> è¿™ä¸ªæ¥å£ç”¨ä¸ç”¨ä¹Ÿå¯ä»¥å®ç°åŠŸèƒ½

æ›´æ–°è§’è‰²æ¥å£æµ‹è¯•ï¼š

![æ›´æ–°è§’è‰²](assets/img/2021-09-11-12-46-37.png)

---

å®Œæˆæ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-09-11-14-38-01.png)

### <mark>2ï¼‰åˆ†é…èœå•</mark>

ã€Œè·å–æ‰€æœ‰èœå•å¹¶æŒ‰å±‚çº§å±•ç¤ºã€æ¥å£æµ‹è¯•ï¼š

![æ ‘å½¢èœå•åˆ—è¡¨](assets/img/2021-09-11-18-51-17.png)

ã€Œç»™è§’è‰²åˆ†é…èœå•ã€æ¥å£æµ‹è¯•ï¼š

![åˆ†é…èœå•](assets/img/2021-09-11-19-24-38.png)

å½“æˆ‘ä»¬ç»™è§’è‰²åˆ†é…å®Œèœå•åï¼Œå†æ¬¡ç‚¹å‡»è¯¥è§’è‰²çš„ã€Œåˆ†é…èœå•ã€ï¼Œç†åº”çœ‹åˆ°å·²ç»è¢«å‹¾é€‰çš„èœå•é¡¹ï¼š

![å·²ä¸ºè§’è‰²åˆ†é…å¥½çš„èœå•](assets/img/2021-09-11-19-42-13.png)

è¯¥å®ç°é€»è¾‘å¾ˆç®€å•ï¼š

![å®ç°åˆ†é…èœå•](assets/img/2021-09-11-20-06-27.png)

æœ‰`bug`ï¼š

![bug](assets/img/2021-09-11-20-33-26.png)

bug åŸå› ï¼š

![bug](assets/img/2021-09-11-20-44-18.png)

ä¿®å¤è¿™ä¸ª bug ï¼Œè‡ªå·±æƒ³äº†ä¸€ä¸ªå¾ˆæ²™é›•çš„å§¿åŠ¿ï¼ˆåº”è¯¥æœ‰å†—ä½™ä»£ç ï¼‰ï¼Œå…·ä½“æ€è·¯æ˜¯è¿™æ ·çš„ï¼š

1. åœ¨åŸå…ˆ`getCheckedKeys`çš„åŸºç¡€ä¸Šï¼Œæ‹¿åˆ°æœ‰å­èœå•çš„èœå•ï¼ŒæŠŠè¿™äº›èœå•æ”¾åˆ°`hasSubMenuList`é‡Œè¾¹å»
2. éå†`hasSubMenuList`ï¼Œæ‰¾å‡ºæœ‰å­èœå•ä¸º`selected===false`çš„èŠ‚ç‚¹ï¼ˆçˆ¶èœå•ï¼‰ï¼ŒæŠŠæ‰¾åˆ°çš„`push`åˆ°`filterId`
3. `checkedKeys`æ˜¯å­˜æ”¾é»˜è®¤å‹¾é€‰ä¸­çš„èŠ‚ç‚¹`Id`ï¼Œè®©`checkedKeys`å’Œ`filterId`åšä¸ªå·®é›†ï¼Œå¦‚`[1,2]`å’Œ`[1]`çš„å·®é›†å°±æ˜¯`[2]`ï¼ŒæŠŠå·®é›†ä½œä¸º`checkedKeys`çš„å€¼

â¹ï¼š[JS - è®¡ç®—ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†ã€å·®é›†ã€å¹¶é›†ã€è¡¥é›†ï¼ˆå¤šç§å®ç°æ–¹å¼ï¼‰](https://www.hangge.com/blog/cache/detail_1862.html)

ğŸ’¡ï¼šç»™`created`åŠ `async`ï¼Ÿ

![created](assets/img/2021-09-11-19-57-34.png)

`mouted`æ‰§è¡Œå®Œï¼Œæ‰ä¼šå»æ¥ç€æ‰§è¡Œå®ƒï¼

### <mark>3ï¼‰åˆ†é…èµ„æº</mark>

åˆ†é…èµ„æºçš„æ¥å£å¯æ²¡æœ‰æ ‘å½¢ç»“æ„

è·å–æ‰€æœ‰èµ„æºï¼š

![è·å–æ‰€æœ‰èµ„æº](assets/img/2021-09-12-08-31-53.png)

ç»™è§’è‰²åˆ†é…èµ„æºï¼š

![ç»™è§’è‰²åˆ†é…èµ„æº](assets/img/2021-09-12-08-33-20.png)

è·å–è§’è‰²æ‹¥æœ‰çš„èµ„æºåˆ—è¡¨ï¼š

![è·å–è§’è‰²æ‹¥æœ‰çš„èµ„æºåˆ—è¡¨](assets/img/2021-09-12-08-36-57.png)

æ€è·¯ï¼š

> èµ„æºæ˜¯å¾ˆå¤šï¼Œè€Œèœå•å¹¶ä¸å¤šï¼Œæ‰€æœ‰é»˜è®¤æ ‘å½¢ç»„ä»¶æ˜¯ä¸å±•å¼€çš„

ğŸ’¡ï¼š`find`æ–¹æ³•ï¼Ÿä¸¤ä¸ªæ•°ç»„ä¹‹é—´æ‰¾äº¤é›†ï¼Ÿ

![äº¤é›†](assets/img/2021-09-12-09-16-22.png)

ğŸ’¡ï¼šæœ‰åˆ†ç±»æ•°æ®å’Œèµ„æºæ•°æ®ï¼Ÿ

èµ„æºæ•°æ®æœ‰ä¸ªå«`categoryId`çš„å±æ€§ï¼Œè¯¥å±æ€§çš„å€¼æ„å‘³ç€å®ƒæ˜¯å±äºå“ªä¸ªåˆ†ç±»çš„

æˆ‘ä»¬è¦æŠŠèµ„æºæ”¾åˆ°å…¶ç›¸åº”åˆ†ç±»çš„`children`ä¸‹è¾¹å»

![èµ„æºåˆ†ç±»](assets/img/2021-09-12-12-06-09.png)

ğŸ’¡ï¼šå±•ç¤ºè¦åˆ†é…çš„èµ„æºåˆ—è¡¨ -> ç»™æ ‘å½¢ç»„ä»¶çš„æ•°æ®æºï¼Ÿ

![æ•°æ®æº](assets/img/2021-09-12-12-24-12.png)

![å±•ç¤ºèµ„æº](assets/img/2021-09-12-12-26-52.png)

ğŸ’¡ï¼šä¿å­˜å‹¾é€‰ä¸­çš„èµ„æºï¼Ÿ

`checkedNodes`æ˜¯ä»€ä¹ˆï¼Ÿ

![checkedNodes](assets/img/2021-09-12-12-35-15.png)

`resourceIdList`æ˜¯ä»€ä¹ˆï¼Ÿ

![èµ„æº id](assets/img/2021-09-12-12-50-49.png)

å‘è¯·æ±‚ï¼š

![ä¿å­˜èµ„æº](assets/img/2021-09-12-12-56-43.png)

ğŸ’¡ï¼šé»˜è®¤å±•ç¤ºè¯¥è§’è‰²å·²å‹¾é€‰è¿‡çš„èµ„æºï¼Ÿ

![selected](assets/img/2021-09-12-14-07-02.png)

ç»™`defaultCheckedKeys`æ·»åŠ é€‰ä¸­çš„èµ„æº`id`ï¼š

![å¾—åˆ°é€‰ä¸­çš„èµ„æº](assets/img/2021-09-12-19-21-14.png)

> èµ„æºå°±åªæœ‰ 1 ã€ 2 çº§

ğŸ’¡ï¼šæˆ‘åœ¨æµ‹è¯•çš„æ—¶å€™ï¼Œå‘ç°`allocateRoleResources`è¿™ä¸ªæ¥å£æ˜¯æœ‰é—®é¢˜çš„ï¼Œä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ

![é—®é¢˜](assets/img/2021-09-12-19-39-02.png)

è¿™ä¸ª bug æ— æ³•ä¿®å¤äº†ï¼Œè¿™æ˜¯åå°çš„é”…ï¼

## â˜…å†™ç”¨æˆ·ç®¡ç†ä»£ç 

1ï¼‰å±•ç¤ºç”¨æˆ·åˆ—è¡¨

ã€Œåˆ†é¡µæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ã€æ¥å£æµ‹è¯•ï¼š

![æ¥å£æµ‹è¯•](assets/img/2021-09-13-11-50-08.png)

å“åº”å›æ¥çš„æ•°æ®æƒ…å†µï¼š

![æ•°æ®](assets/img/2021-09-13-11-52-14.png)

ä¸€ä¸ªç”¨æˆ·æœ‰å“ªäº›ä¿¡æ¯ï¼Ÿ

![ç”¨æˆ·ä¿¡æ¯](assets/img/2021-09-13-11-54-39.png)

å®ç°æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-09-13-13-07-29.png)

2ï¼‰å°ç¦ç”¨æˆ·

![closed](assets/img/2021-09-13-13-41-00.png)

æˆ–è€…æ˜¯`accountNonLocked`ä¸º`false`ï¼Œä¹Ÿå°±æ˜¯è¯¥è´¦æˆ·è¢«é”ä½äº†

è€Œé¡µé¢çš„å±•ç¤ºæ•ˆæœæ˜¯ï¼Œé‚£ä¸ª`çŠ¶æ€`åˆ—æ˜¯çº¢è‰²çš„åœˆåœˆï¼Œç¦ç”¨é‚£ä¸ªæŒ‰é’®æœ¬è¯¥æ˜¯ä¸€ä¸ªå¼€å…³åˆ‡æ¢æŒ‰é’®ï¼

> æˆ–è®¸æ˜¯å› ä¸ºæˆ‘ç™»å½•çš„è¿™ä¸ªç”¨æˆ·æ²¡æœ‰æƒé™å•Šï¼

ğŸ’¡ï¼šElement UI æ—¥æœŸé€‰æ‹©ç»„ä»¶æ˜¯æœ‰é—®é¢˜çš„â€¦â€¦

é—®é¢˜ï¼š

![bug](assets/img/2021-09-13-14-29-47.png)

ant design vue çš„æ—¥æœŸé€‰æ‹©ç»„ä»¶ï¼š

![nice](assets/img/2021-09-13-14-31-01.png)

---

å¯ä»¥è®¾ç½®`unlink-panels`å–æ¶ˆä¸¤ä¸ªé¢æ¿ä¹‹é—´çš„è”åŠ¨

ğŸ’¡ï¼šå®ç°æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-09-13-18-34-34.png)

â¹ï¼š[DatePicker æ—¥æœŸé€‰æ‹©å™¨ ï¼ˆç»„ä»¶ï¼‰ -  Element UI ä¸­æ–‡å¼€å‘æ‰‹å†Œ - å¼€å‘è€…æ‰‹å†Œ - äº‘+ç¤¾åŒº - è…¾è®¯äº‘](https://cloud.tencent.com/developer/section/1489878)
