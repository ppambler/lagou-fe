### ✍️ Tangxt ⏳ 2021-07-29 🏷️ Vue

# 06-4-样式处理、接口处理

## ★导入 Element 组件库

Element，⼀套为开发者、设计师和产品经理准备的基于 Vue 2.0 的桌⾯端组件库。

- 官⽹：<https://element.eleme.cn/>
- GitHub 仓库：<https://github.com/ElemeFE/element>

1、安装 element

``` bash
yarn add element-ui
```

2、在 `main.ts` 中导⼊配置

``` diff
import Vue from 'vue'
import App from './App.vue'
import router from './router'
import store from './store'
import ElementUI from 'element-ui'
import 'element-ui/lib/theme-chalk/index.css'

Vue.config.productionTip = false

Vue.use(ElementUI)

new Vue({
  router,
  store,
  render: h => h(App)
}).$mount('#app')
```

3、测试使用

![测试使用](assets/img/2021-07-31-19-54-43.png)

## ★样式处理

1）样式处理

1. 在`styles`目录下创建 4 个文件
   1. `index.scss`
   2. `mixin.scss` -> 复用样式
   3. `reset.scss`
   4. `variables.scss`
2. 测试 -> 在`main.ts`里边添加`import './styles/index.scss'`以此来导入全局样式，之前的`import 'element-ui/lib/theme-chalk/index.css'`都在`index.scss`里边

2）共享全局样式变量

> 文档：[CSS 相关 - Vue CLI](https://cli.vuejs.org/zh/guide/css.html#%E5%90%91%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8-loader-%E4%BC%A0%E9%80%92%E9%80%89%E9%A1%B9)

能直接在`App.vue`里边使用全局样式变量吗？

![全局变量](assets/img/2021-08-01-00-34-24.png)

这是不能的，你得在这个组件里边`@import`才行！

![@import](assets/img/2021-08-01-00-38-42.png)

如何在不写`@import`的情况下，让每个组件都能直接用这些全局样式变量？

在根目录下创建一个`vue.config.js`，然后添加以下内容即可：

``` js
// vue.config.js
module.exports = {
  css: {
    loaderOptions: {
      // 默认情况下 `sass` 选项会同时对 `sass` 和 `scss` 语法同时生效
      // 因为 `scss` 语法在内部也是由 sass-loader 处理的
      // 但是在配置 `prependData` 选项的时候
      // `scss` 语法会要求语句结尾必须有分号，`sass` 则要求必须没有分号
      // 在这种情况下，我们可以使用 `scss` 选项，对 `scss` 语法进行单独配置
      scss: {
        additionalData: '@import "~@/styles/variables.scss";'
      }
    }
  }
}
```

![vue.config.js](assets/img/2021-08-01-00-50-01.png)

用`prependData`导致这样的错误：

![error](assets/img/2021-08-01-00-52-26.png)

补充：

![补充](assets/img/2021-08-01-08-57-50.png)

这其实不是 VS Code 的问题：

![语法问题](assets/img/2021-08-01-09-15-30.png)

如何解决这个问题？

把`index.scss`里边的`@import "~element-ui/packages/theme-chalk/src/index";`给注释了，还是在`main.ts`里边引用它比较好！

## ★接口处理

1）配置后端代理

![后端代理](assets/img/2021-08-01-09-25-34.png)

2）封装请求模块

新建`request.ts`，添加以下内容：

``` ts
import axios from 'axios'

const request = axios.create({
  // 配置选项
  // baseURL,
  // timeout
})

// 请求拦截器

// 响应拦截器

export default request
```

测试：

``` ts
// App.vue
import request from '@/utils/request'
request({
  method: 'GET',
  url: '/boss/v2/api-docs?group=edu-boss-boot'
}).then(data => {
  console.log(data)
})
```

![测试](assets/img/2021-08-01-09-29-51.png)

